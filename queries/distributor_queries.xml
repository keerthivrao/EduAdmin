<QUERIES>
	<QUERY>
		<IDENTIFIER>INSERT_DISTRIBUTOR</IDENTIFIER>
		<MODE>INSERT</MODE>
		<DESCRIPTION>INSERT_DISTRIBUTOR</DESCRIPTION>
		<DECLARATION>
			INSERT  INTO distributor_details ( Type,Parent,First_Name,Middle_Name,Last_Name,SSN,Primary_Contact_Id,Address_Id,Payment_Id,ApprovalStatus,Start_Date,Active,End_Date,Created_By,Modified_By,Last_Modified_Date,JoiningDate,RegisteredDate,dob )  VALUES  (  ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ?,?  ) 
		</DECLARATION>
		<PARAMETERS>
			<PARAMETER>
				<INDEX>1</INDEX>
				<DATATYPE>0</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>2</INDEX>
				<DATATYPE>1</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>3</INDEX>
				<DATATYPE>0</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>4</INDEX>
				<DATATYPE>0</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>5</INDEX>
				<DATATYPE>0</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>6</INDEX>
				<DATATYPE>0</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>7</INDEX>
				<DATATYPE>1</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>8</INDEX>
				<DATATYPE>1</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>9</INDEX>
				<DATATYPE>1</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>10</INDEX>
				<DATATYPE>0</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>11</INDEX>
				<DATATYPE>2</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>12</INDEX>
				<DATATYPE>0</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>13</INDEX>
				<DATATYPE>2</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>14</INDEX>
				<DATATYPE>1</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>15</INDEX>
				<DATATYPE>1</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>16</INDEX>
				<DATATYPE>2</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>17</INDEX>
				<DATATYPE>2</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>18</INDEX>
				<DATATYPE>2</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>19</INDEX>
				<DATATYPE>2</DATATYPE>
			</PARAMETER>
		</PARAMETERS>

	</QUERY>
	<QUERY>
		<IDENTIFIER>SELECT_DISTRIBUTOR</IDENTIFIER>
		<MODE>SELECT</MODE>
		<DESCRIPTION>SELECT_DISTRIBUTOR</DESCRIPTION>
		<DECLARATION>
			SELECT Type,Parent,First_Name,Middle_Name,Last_Name,SSN,Primary_Contact_Id,Address_Id,Payment_Id,ApprovalStatus,Start_Date,Active,End_Date,Created_By,Modified_By,Last_Modified_Date,Distributor_Id,JoiningDate,RegisteredDate,dob,userid,loginid FROM distributor_details WHERE 1=1  AND Distributor_Id = ?
		</DECLARATION>
		<PARAMETERS>
			<PARAMETER>
				<INDEX>1</INDEX>
				<DATATYPE>1</DATATYPE>
			</PARAMETER>
		</PARAMETERS>

	</QUERY>
	<QUERY>
		<IDENTIFIER>GET_ALL_DISTRIBUTORS</IDENTIFIER>
		<MODE>SELECT</MODE>
		<DESCRIPTION>GET_ALL_DISTRIBUTORS</DESCRIPTION>
		<DECLARATION>
			SELECT a.Type,a.Parent,a.First_Name,a.Middle_Name,a.Last_Name,a.SSN,a.Primary_Contact_Id,a.Address_Id,a.Payment_Id,a.ApprovalStatus,a.Start_Date,a.Active,a.End_Date,a.Created_By,a.Modified_By,a.Last_Modified_Date,a.Distributor_Id,a.JoiningDate,a.RegisteredDate,b.first_name as parent_name,a.dob FROM distributor_details a left join distributor_details b on b.Distributor_Id = a.parent WHERE 1=1  AND  a.ApprovalStatus = 'Approved' or a.ApprovalStatus = 'Rejected' 
		</DECLARATION>
	</QUERY>
	<QUERY>
		<IDENTIFIER>GET_APPROVED_DISTRIBUTORS</IDENTIFIER>
		<MODE>SELECT</MODE>
		<DESCRIPTION>GET_APPROVED_DISTRIBUTORS</DESCRIPTION>
		<DECLARATION>
			SELECT a.Type,a.Parent,a.First_Name,a.Middle_Name,a.Last_Name,a.SSN,a.Primary_Contact_Id,a.Address_Id,a.Payment_Id,a.ApprovalStatus,a.Start_Date,a.Active,a.End_Date,a.Created_By,a.Modified_By,a.Last_Modified_Date,a.Distributor_Id,a.JoiningDate,a.RegisteredDate,b.first_name as parent_name,a.dob FROM distributor_details a left join distributor_details b on b.Distributor_Id = a.parent WHERE 1=1  AND  a.ApprovalStatus = 'Approved'
		</DECLARATION>
	</QUERY>
	<QUERY>
		<IDENTIFIER>GET_ALL_APPROVED_DISTRIBUTORS</IDENTIFIER>
		<MODE>SELECT</MODE>
		<DESCRIPTION>GET_ALL_APPROVED_DISTRIBUTORS</DESCRIPTION>
		<DECLARATION>
			SELECT Type,Parent,First_Name,Middle_Name,Last_Name,SSN,Primary_Contact_Id,Address_Id,Payment_Id,ApprovalStatus,Start_Date,Active,End_Date,Created_By,Modified_By,Last_Modified_Date,Distributor_Id,JoiningDate,RegisteredDate,dob,userid,loginid FROM distributor_details WHERE 1=1  AND ApprovalStatus = 'Approved'
		</DECLARATION>
	</QUERY>
	<QUERY>
		<IDENTIFIER>GET_APPROVED_DISTRIBUTORS_FOR_COMMISSIONS</IDENTIFIER>
		<MODE>SELECT</MODE>
		<DESCRIPTION>GET_APPROVED_DISTRIBUTORS_FOR_COMMISSIONS</DESCRIPTION>
		<DECLARATION>
			SELECT a.Type,a.Parent,a.ApprovalStatus,a.Distributor_Id,a.realizedcommisions,a.unrealizedcommisions,a.transactioncount FROM distributor_details a left join distributor_details b on b.Distributor_Id = a.parent WHERE 1=1  AND  a.ApprovalStatus = 'Approved'
		</DECLARATION>
	</QUERY>
	<QUERY>
		<IDENTIFIER>GET_SPECIFIED_APPROVED_DISTRIBUTORS_FOR_COMMISSIONS</IDENTIFIER>
		<MODE>SELECT</MODE>
		<DESCRIPTION>GET_SPECIFIED_APPROVED_DISTRIBUTORS_FOR_COMMISSIONS</DESCRIPTION>
		<DECLARATION>
			SELECT Type,Parent,ApprovalStatus,Distributor_Id,realizedcommisions,unrealizedcommisions,transactioncount FROM distributor_details WHERE 1=1
		</DECLARATION>
	</QUERY>
	<QUERY>
		<IDENTIFIER>GET_APPROVED_DISTRIBUTORS_DETAILS_IN_TREE</IDENTIFIER>
		<MODE>SELECT</MODE>
		<DESCRIPTION>GET_APPROVED_DISTRIBUTORS_DETAILS_IN_TREE</DESCRIPTION>
		<DECLARATION>
			SELECT Type,Parent,First_Name,Middle_Name,Last_Name,SSN,Primary_Contact_Id,ApprovalStatus,Distributor_Id,Active,realizedcommisions FROM distributor_details WHERE 1=1
		</DECLARATION>
	</QUERY>
	<QUERY>
		<IDENTIFIER>GET_APPROVED_DISTRIBUTORS_PARENT_CHILD_MAPPING</IDENTIFIER>
		<MODE>SELECT</MODE>
		<DESCRIPTION>GET_APPROVED_DISTRIBUTORS_PARENT_CHILD_MAPPING</DESCRIPTION>
		<DECLARATION>
			SELECT Distributor_Id,Parent FROM distributor_details WHERE 1=1  AND  ApprovalStatus = 'Approved'
		</DECLARATION>
	</QUERY>
	<QUERY>
		<IDENTIFIER>GET_DISTRIBUTORS_TO_APPROVE</IDENTIFIER>
		<MODE>SELECT</MODE>
		<DESCRIPTION>GET_DISTRIBUTORS_TO_APPROVE</DESCRIPTION>
		<DECLARATION>
			SELECT a.Type,a.Parent,a.First_Name,a.Middle_Name,a.Last_Name,a.SSN,a.Primary_Contact_Id,a.Address_Id,a.Payment_Id,a.ApprovalStatus,a.Start_Date,a.Active,a.End_Date,a.Created_By,a.Modified_By,a.Last_Modified_Date,a.Distributor_Id,a.JoiningDate,a.RegisteredDate,b.first_name as parent_name,c.amount,c.status as paymentstatus,a.dob FROM distributor_details a left join distributor_details b on b.Distributor_Id = a.parent left join payment_details c on a.Payment_Id = c.Payment_Id WHERE 1=1  AND  a.ApprovalStatus = 'New'
		</DECLARATION>
	</QUERY>
	<QUERY>
		<IDENTIFIER>SEARCH_DISTRIBUTORS_TO_APPROVE</IDENTIFIER>
		<MODE>SELECT</MODE>
		<DESCRIPTION>SEARCH_DISTRIBUTORS_TO_APPROVE</DESCRIPTION>
		<DECLARATION>
			SELECT a.Type,a.Parent,a.First_Name,a.Middle_Name,a.Last_Name,a.SSN,a.Primary_Contact_Id,a.Address_Id,a.Payment_Id,a.ApprovalStatus,a.Start_Date,a.Active,a.End_Date,a.Created_By,a.Modified_By,a.Last_Modified_Date,a.Distributor_Id,a.JoiningDate,a.RegisteredDate,b.first_name as parent_name,c.amount,c.status as paymentstatus,a.dob FROM distributor_details a left join distributor_details b on b.Distributor_Id = a.parent left join payment_details c on a.Payment_Id = c.Payment_Id WHERE 1=1  AND  a.ApprovalStatus = 'New'  AND a.First_Name LIKE ? AND a.Last_Name LIKE ?  AND b.First_Name LIKE ?
		</DECLARATION>
		<PARAMETERS>
			<PARAMETER>
				<INDEX>1</INDEX>
				<DATATYPE>0</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>2</INDEX>
				<DATATYPE>0</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>3</INDEX>
				<DATATYPE>0</DATATYPE>
			</PARAMETER>
		</PARAMETERS>
	</QUERY>
	<QUERY>
		<IDENTIFIER>SEARCH_APPROVED_DISTRIBUTORS</IDENTIFIER>
		<MODE>SELECT</MODE>
		<DESCRIPTION>SEARCH_APPROVED_DISTRIBUTORS</DESCRIPTION>
		<DECLARATION>
			SELECT a.Type,a.Parent,a.First_Name,a.Middle_Name,a.Last_Name,a.SSN,a.Primary_Contact_Id,a.Address_Id,a.Payment_Id,a.ApprovalStatus,a.Start_Date,a.Active,a.End_Date,a.Created_By,a.Modified_By,a.Last_Modified_Date,a.Distributor_Id,a.JoiningDate,a.RegisteredDate,b.first_name as parent_name,a.dob FROM distributor_details a left join distributor_details b on b.Distributor_Id = a.parent WHERE 1=1  AND  a.ApprovalStatus = 'Approved' AND a.First_Name LIKE ? AND a.Last_Name LIKE ?  AND b.First_Name LIKE ?
		</DECLARATION>
		<PARAMETERS>
			<PARAMETER>
				<INDEX>1</INDEX>
				<DATATYPE>0</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>2</INDEX>
				<DATATYPE>0</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>3</INDEX>
				<DATATYPE>0</DATATYPE>
			</PARAMETER>
		</PARAMETERS>

	</QUERY>
	<QUERY>
		<IDENTIFIER>DELETE_DISTRIBUTOR</IDENTIFIER>
		<MODE>DELETE</MODE>
		<DESCRIPTION>DELETE_DISTRIBUTOR</DESCRIPTION>
		<DECLARATION>
			DELETE FROM distributor_details WHERE 1=1  AND Distributor_Id = ?
		</DECLARATION>
		<PARAMETERS>
			<PARAMETER>
				<INDEX>1</INDEX>
				<DATATYPE>1</DATATYPE>
			</PARAMETER>
		</PARAMETERS>

	</QUERY>
	<QUERY>
		<IDENTIFIER>GET_CHILDREN_COUNT</IDENTIFIER>
		<MODE>SELECT</MODE>
		<DESCRIPTION>GET_CHILDREN_COUNT</DESCRIPTION>
		<DECLARATION>
			SELECT COUNT(DISTRIBUTOR_ID) AS CHILD_DISTRIBUTORS FROM DISTRIBUTOR_DETAILS WHERE PARENT = ?
		</DECLARATION>
		<PARAMETERS>
			<PARAMETER>
				<INDEX>1</INDEX>
				<DATATYPE>1</DATATYPE>
			</PARAMETER>
		</PARAMETERS>
	</QUERY>

	<QUERY>
		<IDENTIFIER>APPROVE_DISTRIBUTOR</IDENTIFIER>
		<MODE>UPDATE</MODE>
		<DESCRIPTION>APPROVE_DISTRIBUTOR</DESCRIPTION>
		<DECLARATION>
			UPDATE distributor_details SET ApprovalStatus =  'Approved', USERID=?,LOGINID=? WHERE 1=1  AND Distributor_Id = ?
		</DECLARATION>
		<PARAMETERS>
			<PARAMETER>
				<INDEX>1</INDEX>
				<DATATYPE>0</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>2</INDEX>
				<DATATYPE>0</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>3</INDEX>
				<DATATYPE>1</DATATYPE>
			</PARAMETER>
		</PARAMETERS>
	</QUERY>
	<QUERY>
		<IDENTIFIER>REJECT_DISTRIBUTOR</IDENTIFIER>
		<MODE>UPDATE</MODE>
		<DESCRIPTION>REJECT_DISTRIBUTOR</DESCRIPTION>
		<DECLARATION>
			UPDATE distributor_details SET ApprovalStatus =  'Rejected' WHERE 1=1  AND Distributor_Id = ?
		</DECLARATION>
		<PARAMETERS>
			<PARAMETER>
				<INDEX>1</INDEX>
				<DATATYPE>1</DATATYPE>
			</PARAMETER>
		</PARAMETERS>
	</QUERY>
	<QUERY>
		<IDENTIFIER>POST_DISTRIBUTOR_COMMISSION</IDENTIFIER>
		<MODE>UPDATE</MODE>
		<DESCRIPTION>POST_DISTRIBUTOR_COMMISSION</DESCRIPTION>
		<DECLARATION>
			UPDATE distributor_details SET realizedcommisions =  ?, unrealizedcommisions=?,transactioncount=? WHERE 1=1  AND Distributor_Id = ? AND transactioncount = ?
		</DECLARATION>
		<PARAMETERS>
			<PARAMETER>
				<INDEX>1</INDEX>
				<DATATYPE>0</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>2</INDEX>
				<DATATYPE>0</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>3</INDEX>
				<DATATYPE>0</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>4</INDEX>
				<DATATYPE>1</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>5</INDEX>
				<DATATYPE>0</DATATYPE>
			</PARAMETER>
		</PARAMETERS>
	</QUERY>
	<QUERY>
		<IDENTIFIER>UPDATE_DISTRIBUTOR</IDENTIFIER>
		<MODE>UPDATE</MODE>
		<DESCRIPTION>UPDATE_DISTRIBUTOR</DESCRIPTION>
		<DECLARATION>
			UPDATE distributor_details SET Type =  ? ,Parent =  ? ,First_Name =  ? ,Middle_Name =  ? ,Last_Name =  ? ,SSN =  ? ,Primary_Contact_Id =  ? ,Address_Id =  ? ,Payment_Id =  ? ,ApprovalStatus =  ? ,Start_Date =  ? ,Active =  ? ,End_Date =  ? ,Created_By =  ? ,Modified_By =  ? ,Last_Modified_Date =  ? ,JoiningDate =  ?, RegisteredDate =  ?,dob=?  WHERE 1=1  AND Distributor_Id = ?
		</DECLARATION>
		<PARAMETERS>
			<PARAMETER>
				<INDEX>1</INDEX>
				<DATATYPE>0</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>2</INDEX>
				<DATATYPE>1</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>3</INDEX>
				<DATATYPE>0</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>4</INDEX>
				<DATATYPE>0</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>5</INDEX>
				<DATATYPE>0</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>6</INDEX>
				<DATATYPE>0</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>7</INDEX>
				<DATATYPE>1</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>8</INDEX>
				<DATATYPE>1</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>9</INDEX>
				<DATATYPE>1</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>10</INDEX>
				<DATATYPE>0</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>11</INDEX>
				<DATATYPE>2</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>12</INDEX>
				<DATATYPE>0</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>13</INDEX>
				<DATATYPE>2</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>14</INDEX>
				<DATATYPE>1</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>15</INDEX>
				<DATATYPE>1</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>16</INDEX>
				<DATATYPE>2</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>17</INDEX>
				<DATATYPE>2</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>18</INDEX>
				<DATATYPE>2</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>19</INDEX>
				<DATATYPE>2</DATATYPE>
			</PARAMETER>
			<PARAMETER>
				<INDEX>20</INDEX>
				<DATATYPE>1</DATATYPE>
			</PARAMETER>
		</PARAMETERS>
	</QUERY>
</QUERIES>